<h1>Listing articles</h1>

<table>
  <tr align="left">
    <th>Title</th>
    <th>Preview</th>
    <th>Date</th>
    <th>Author</th>
    <th>Category</th>
    <th>Published?</th>
  </tr>

<% for article in @articles.reverse %>
  <tr>
    <td><%= link_to truncate(article.title.gsub(/<.*?>/,''), 30), article %></td>
    <td><%=h truncate(article.body.gsub(/<.*?>/,''), 50) %></td>
    <td><%=h article.time_ago_or_time_stamp %></td>
    <td><%=h article.author %></td>
    <td><%=h article.category.category_name %></td>
    <td align="center"><%=h article.check_if_published %></td>
    <td>
    	<dl>
    		<dt><%= link_to 'Modify', edit_article_path(article) %></dt>
    		<dt><%= link_to 'Delete', article, :confirm => 'Are you sure?', :method => :delete %></dt>
    	</dl>
    </td>
  </tr>
<% end %>
</table>

<br />
	<p>
		<label for="category"><b>Category</b><br /></label>
			<% for category in @categories %>
				<%= category.category_name %><br />
			<% end %>
		<%= button_to "New Category", :action => "new_category" %>
	</p>

<%= link_to 'New article', new_article_path %>
<a href="http://localhost:3000/blog">Main Page</a>
